<!doctype html>
<html>
	<head>
		<title>The Diamond Central</title>
		<link rel="stylesheet" type="text/css" href="style.css">
		<link rel="shortcut icon" href="favicon.ico">
	</head>

	<body>
		<div class="header">
			<span class="title">The Diamond Central</span>
		</div>
		<div class="nav">
			<ul>
				<li><a href="index.html">Home</a></li>
				<li><a href="skins.html">Skins</a></li>
				<li><a href="videos.html">Videos</a></li>
			</ul>
		</div>
		<div class="main">
			<div class="content">
				<h1 class="pagetitle">Video</h1>
			</div>
			<div class="sidebar">
				Remember to do all that "social" stuff :D
				<!-- YT Subscribe -->
				<iframe id="fr" src="http://www.youtube.com/subscribe_widget?p=DiamondCentralX" style="overflow:hidden;height:105px;width:100%;border:0;" scrolling="no" frameBorder="0"></iframe>
				<!-- G+ Badge -->
				<div class="g-plus" style="width:350px;" data-href="//plus.google.com/111164930566287212090" data-rel="publisher"></div>
			</div>
		</div>
		<div class="clear"></div>
		<div class="footer">Copyright (C) 2013 <a class="copyright_link" target="_blank" href="http://www.youtube.com/DiamondCentralX">The Diamond Central</a>. All rights reserved.</div>
		
		<div class="bb"></div>
		
		<!-- jQuery -->
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
		
		<!-- Display video -->
		<script>
			function getURLParameter(name) {
				return decodeURI(
					(RegExp(name + '=' + '(.+?)(&|$)').exec(location.search)||[,null])[1]
				);
			}
			
			function getYouTubeInfo(id) {
                $.ajax({
                        url: 'https://gdata.youtube.com/feeds/api/videos/'+id+'?v=2&alt=json',
                        dataType: "jsonp",
                        success: function (data) { parseresults(data); }
                });
			}
			
			function nl2br (str, is_xhtml) {
				var breakTag = (is_xhtml || typeof is_xhtml === 'undefined') ? '<br />' : '<br>';
				return (str + '').replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g, '$1' + breakTag + '$2');
			}
			
			function parseresults(data) {
					var title = data.entry.title.$t;
					var description = data.entry.media$group.media$description.$t;
					var viewcount = data.entry.yt$statistics.viewCount;
					var dislikes = data.entry.yt$rating.numDislikes;
					var likes = data.entry.yt$rating.numLikes;
					var published = data.entry.published.$t.toString().substring(0,10);
					$('.pagetitle').html(title);
					$('.content').append('<div class="video"><div class="views"><h3>' + viewcount + ' views</h3></div><div class="desc"><h3>About</h3><div class="clear"></div><div>Uploaded: '+published+' Dislikes: '+dislikes+' Likes: '+likes+'</div><div><p>' + nl2br(description) + '</p></div></div></div>');
			}
			
			var vidid = getURLParameter('id');
			
			$(".content").append('<iframe width="800" height="450" src="http://www.youtube.com/embed/'+vidid+'" frameborder="0" allowfullscreen></iframe>');
			getYouTubeInfo(vidid);
		</script>
		
		<!-- G+ Badge thingy :D -->
		<script type="text/javascript">
		  (function() {
			var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
			po.src = 'https://apis.google.com/js/plusone.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
		  })();
		</script>
		
		<!-- Google Analytics -->
		<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-41862960-1', 'dropboxusercontent.com');
			ga('send', 'pageview');
		</script>
	</body>
</html>